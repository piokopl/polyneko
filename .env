# POLYNEKO v4 Configuration
# Copy to .env and fill in your values

# ============ API KEYS ============
POLYMARKET_API_KEY=
POLYMARKET_SECRET=
POLYMARKET_PASSPHRASE=

# ============ WALLET ============
WALLET_ADDRESS=
PRIVATE_KEY=
POLYMARKET_FUNDER_ADDRESS=
SIGNATURE_TYPE=2  # 0=EOA/MetaMask, 1=Magic/Email, 2=Browser proxy

# ============ TRADING ============
BET_SIZE=5
MAX_POSITION=20
SYMBOLS=BTC,ETH,SOL,XRP

# ============ HEDGE SETTINGS ============
# Progressive hedge triggers (comma-separated)
HEDGE_TRIGGERS=0.10,0.20,0.30
TRAIL_SIZE=0.5
MAX_HEDGES=3
HEDGE_CONFIRM_SECONDS=5
HEDGE_SCALE_WITH_DROP=true
MIN_MINUTES_FOR_HEDGE=2

# Dynamic trail triggers based on time left
TRAIL_TRIGGER_EARLY=0.10   # >7 min left
TRAIL_TRIGGER_MID=0.08     # 3-7 min left
TRAIL_TRIGGER_LATE=0.05    # <3 min left

# ============ ADD TO WINNER ============
ADD_WINNER_ENABLED=true
ADD_WINNER_MIN_MINUTES=2.0
ADD_WINNER_MAX_MINUTES=5.0
ADD_WINNER_MIN_DISTANCE=0.003  # 0.3% Binance distance
ADD_WINNER_MIN_TOKEN_PRICE=0.60
ADD_WINNER_SIZE=0.5
ADD_WINNER_MAX_ADDS=2
ADD_WINNER_CONFIRM_SECONDS=3

# ============ BASIC FILTERS ============
MIN_MOMENTUM=0.05
RSI_PERIOD=14
RSI_OVERBOUGHT=70
RSI_OVERSOLD=30
MAX_SPREAD=0.10
MIN_VOLUME_RATIO=0.5
REQUIRE_VOLUME_FOR_HEDGE=true

# ============ v4 INDICATORS ============
# MACD (12, 26, 9) - trend/momentum confirmation
USE_MACD=true

# Stochastic (14, 3) - overbought/oversold with momentum
USE_STOCHASTIC=true
STOCH_OVERBOUGHT=80
STOCH_OVERSOLD=20

# ADX - Average Directional Index (trend strength)
USE_ADX=true
ADX_MIN_STRENGTH=20    # Skip if ADX < 20 (sideways market)
ADX_STRONG=25          # Strong trend threshold

# Bollinger Bands squeeze detection
USE_BB_SQUEEZE=true
BB_SQUEEZE_THRESHOLD=0.02  # Width < 2% = squeeze (breakout potential)

# ATR dynamic parameters
USE_ATR_DYNAMIC=true
ATR_BASE_MULTIPLIER=1.5

# Multi-timeframe (5m trend confirmation)
USE_MTF=true

# Divergence detection (RSI vs price)
USE_DIVERGENCE=true
DIVERGENCE_BONUS=0.15  # Confidence bonus for divergence

# Session filter (UTC hours) - disabled for 24/7 crypto
USE_SESSION_FILTER=false

# ============ CONFIDENCE SCORING ============
USE_CONFIDENCE_SCORING=true
MIN_CONFIDENCE=0.4        # Skip if confidence < 40%
HIGH_CONFIDENCE=0.6       # Increase bet if confidence > 60%
HIGH_CONFIDENCE_MULTIPLIER=1.5

# ============ DYNAMIC POSITION SIZING ============
USE_DYNAMIC_SIZING=true
WIN_STREAK_BONUS=0.1      # +10% per consecutive win
MAX_STREAK_BONUS=0.5      # Cap at +50%

# ============ MARTINGALE PREVENTION ============
MAX_CONSECUTIVE_LOSSES=3
LOSS_COOLDOWN_SECONDS=300  # 5 min cooldown after max losses
LOSS_SIZE_REDUCTION=0.5    # Reduce bet to 50% after losses

# ============ HISTORICAL ANALYSIS ============
USE_HOUR_FILTER=true
MIN_HOUR_WINRATE=40

# ============ ORDER EXECUTION ============
SIGNAL_COOLDOWN=30
ORDER_MAX_RETRIES=15
ORDER_PRICE_INCREMENT=0.01
ORDER_USE_GTC_FALLBACK=false

# ============ MODE ============
SIMULATION_MODE=true

# ============ DISCORD ============
DISCORD_WEBHOOK=

# ============ URLS ============
GAMMA_URL=https://gamma-api.polymarket.com
CLOB_URL=https://clob.polymarket.com
WS_URL=wss://ws-subscriptions-clob.polymarket.com/ws/market

# ============ DATABASE ============
DB_PATH=polyneko.db

# ============ DASHBOARD ============
DASHBOARD_ENABLED=true
DASHBOARD_PORT=8080
